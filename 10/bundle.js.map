{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./src/main.js","webpack:///./src/mocks/comments.js","webpack:///./src/mocks/film-card.js","webpack:///./src/model/films.js","webpack:///./src/model/filter.js","webpack:///./src/presenter/film-card.js","webpack:///./src/presenter/filter.js","webpack:///./src/presenter/movie-list.js","webpack:///./src/utils/const.js","webpack:///./src/utils/film.js","webpack:///./src/utils/filter.js","webpack:///./src/utils/observer.js","webpack:///./src/utils/render.js","webpack:///./src/utils/utils.js","webpack:///./src/view/abstract.js","webpack:///./src/view/film-card.js","webpack:///./src/view/film-details-popup.js","webpack:///./src/view/films-list-container.js","webpack:///./src/view/films-list.js","webpack:///./src/view/footer.js","webpack:///./src/view/main-films-section.js","webpack:///./src/view/main-site-menu.js","webpack:///./src/view/main-sorting-filter.js","webpack:///./src/view/no-films.js","webpack:///./src/view/show-more-button.js","webpack:///./src/view/smart.js","webpack:///./src/view/user-status.js"],"names":[],"mappings":"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EA;AACA,8BAA8B,wDAAQ;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,6BAA6B;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;;;;;;;;;;;;;ACnOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAO;AACP;AACA;;;AAGO;AACP;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAsC;;AAE/B;AACP,GAAG,oDAAU;AACb,GAAG,oDAAU;AACb,GAAG,oDAAU;AACb,GAA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AACA;AACA;AACA,iDAAiD,mBAAmB;AACpE;AACA;AACA;AACA,iDAAiD,kBAAkB;AACnE;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA,kBAAkB;AAClB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uHAAuH,oBAAoB;AAC3I,8GAA8G,kBAAkB;;AAEhI,mHAAmH,eAAe;AAClI,0GAA0G,aAAa;;AAEvH,qHAAqH,gBAAgB;AACrI,4GAA4G,cAAc;AAC1H;AACA;AACA;AACA;AACA,yGAAyG,cAAc;AACvH;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,+BAA+B,iDAAK;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",f=\"date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d+)?$/,c=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+$(r,2,\"0\")+\":\"+$(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},y=\"en\",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if(\"string\"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D=\"set\"+(this.$u?\"UTC\":\"\");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+\"Hours\",0);case r:return l(D+\"Minutes\",1);case n:return l(D+\"Seconds\",2);case e:return l(D+\"Milliseconds\",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d=\"set\"+(this.$u?\"UTC\":\"\"),$=(h={},h[i]=d+\"Date\",h[f]=d+\"Date\",h[u]=d+\"Month\",h[o]=d+\"FullYear\",h[r]=d+\"Hours\",h[n]=d+\"Minutes\",h[e]=d+\"Seconds\",h[t]=d+\"Milliseconds\",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,\"0\"),s:String(this.$s),ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[[\"$ms\",t],[\"$s\",e],[\"$m\",n],[\"$H\",r],[\"$W\",i],[\"$M\",u],[\"$y\",o],[\"$D\",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t(e,S,v),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});\n","import {CARDS_NUMBER /* EXTRAS_NUMBER, EXTRAS_NAMES*/} from \"./utils/const.js\";\nimport UserStatus from \"../src/view/user-status.js\";\nimport MovieList from \"./presenter/movie-list.js\";\nimport FooterStats from \"../src/view/footer.js\";\nimport {generateFilm} from \"./mocks/film-card.js\";\nimport {render, RenderPosition} from \"./utils/render.js\";\nimport FilterPresenter from \"./presenter/filter.js\";\nimport FilmsModel from \"./model/films.js\";\nimport FilterModel from \"./model/filter.js\";\n\nconst films = new Array(CARDS_NUMBER).fill(``).map(generateFilm);\n\nconst filmsModel = new FilmsModel();\nfilmsModel.setFilms(films);\n\nconst filterModel = new FilterModel();\n\nconst siteHeader = document.querySelector(`.header`);\nconst siteMainElement = document.querySelector(`.main`);\nconst siteFooter = document.querySelector(`.footer`);\n\n// if (films.length > 0) {\n//   render(siteMainFilms, new FilmsListExtra(EXTRAS_NAMES[0]), RenderPosition.BEFOREEND);\n//   render(siteMainFilms, new FilmsListExtra(EXTRAS_NAMES[1]), RenderPosition.BEFOREEND);\n//   const filmsListsExtra = siteMainFilms.querySelectorAll(`.films-list--extra`);\n\n//   for (const filmsListExtra of filmsListsExtra) {\n//     render(filmsListExtra, new FilmsListContainer(), RenderPosition.BEFOREEND);\n//     const extraContainer = filmsListExtra.querySelector(`.films-list__container`);\n//     for (let i = 0; i < EXTRAS_NUMBER; i++) {\n//       const randomIndex = getRandomIndex(films);\n//       renderFilm(extraContainer, films[randomIndex]);\n//     }\n//   }\n// }\n\n\nrender(siteHeader, new UserStatus(), RenderPosition.BEFOREEND);\nconst movieList = new MovieList(siteMainElement, filmsModel, filterModel);\nconst filterPresenter = new FilterPresenter(siteMainElement, filmsModel, filterModel);\nrender(siteFooter, new FooterStats(), RenderPosition.BEFOREEND);\n\nfilterPresenter.init();\nmovieList.init();\n","import {getRandomInteger, getRandomName, getRandomDescription} from \"../utils/utils.js\";\nimport {text, EMOJIS, FILMS_START_YEAR, FILMS_END_YEAR, COMMENTS_END_YEAR, COMMENTS_START_YEAR, START_MONTH, END_MONTH, START_DATE, END_DATE, START_MINUTES, END_MINUTES, COMMENTS_START_HOUR, COMMENTS_END_HOUR, COMMENTS_MAX} from \"../utils/const.js\";\n\nconst getRandomIndex = (indices) => {\n  return getRandomInteger(0, indices.length - 1);\n};\n\nconst getRandomElem = (elements) => {\n  return elements[getRandomIndex(elements)];\n};\n\nconst generateDate = () => {\n  const releaseDate = new Date(getRandomInteger(FILMS_START_YEAR, FILMS_END_YEAR), getRandomInteger(START_MONTH, END_MONTH), getRandomInteger(START_DATE, END_DATE));\n  return releaseDate;\n};\n\nconst generateComment = () => {\n  const commentDate = generateDate();\n\n  commentDate.setDate(getRandomInteger(START_DATE, END_DATE));\n  commentDate.setMonth(getRandomInteger(START_MONTH, END_MONTH));\n  commentDate.setUTCFullYear(getRandomInteger(COMMENTS_START_YEAR, COMMENTS_END_YEAR));\n  commentDate.setHours(getRandomInteger(COMMENTS_START_HOUR, COMMENTS_END_HOUR));\n  commentDate.setMinutes(getRandomInteger(START_MINUTES, END_MINUTES));\n\n  const comment = {\n    content: getRandomDescription(text),\n    emoji: getRandomElem(EMOJIS),\n    author: getRandomName(),\n    date: commentDate,\n  };\n  return comment;\n};\nconst commentsNumber = getRandomInteger(0, COMMENTS_MAX);\n\nexport const getCommentsArray = () => {\n  const commentsArray = [];\n  for (let i = 0; i < commentsNumber; i++) {\n    const comment = generateComment();\n    commentsArray.push(comment);\n  }\n  return commentsArray;\n};\n","import {getRandomInteger, getRandomElem, getRandomArray, getRandomName, getBoolean, getRandomDescription} from \"../utils/utils.js\";\nimport {text, TITLES, POSTERS, GENRES, COUNTRIES, ELEMENTS_MIN, ELEMENTS_MAX, FILMS_START_YEAR, FILMS_END_YEAR, START_MONTH, END_MONTH, START_DATE, END_DATE, START_MINUTES, END_MINUTES, RATING_MIN, RATING_MAX, AGE_MIN, AGE_MAX} from \"../utils/const.js\";\nimport {getCommentsArray} from \"../mocks/comments.js\";\n\nconst generateId = () => Date.now() + parseInt(Math.random() * 10000, 10);\n\nconst getRandomElements = () => {\n  const elements = [];\n  const number = getRandomInteger(ELEMENTS_MIN, ELEMENTS_MAX);\n  for (let i = 0; i < number; i++) {\n    const elem = getRandomName();\n    elements.push(elem);\n  }\n  return elements;\n};\n\nconst generateDate = () => {\n  const releaseDate = new Date(getRandomInteger(FILMS_START_YEAR, FILMS_END_YEAR), getRandomInteger(START_MONTH, END_MONTH), getRandomInteger(START_DATE, END_DATE));\n  return releaseDate;\n};\n\nexport const generateFilm = () => {\n  const filmTitle = getRandomElem(TITLES);\n  const description = text;\n  const filmPoster = `../../images/posters/${getRandomElem(POSTERS)}`;\n  const filmDate = generateDate();\n  filmDate.setDate(getRandomInteger(START_DATE, END_DATE));\n  filmDate.setMonth(getRandomInteger(START_MONTH, END_MONTH));\n  filmDate.setUTCFullYear(getRandomInteger(FILMS_START_YEAR, FILMS_END_YEAR));\n  filmDate.setMinutes(getRandomInteger(START_MINUTES, END_MINUTES));\n  const commentsArray = getCommentsArray();\n\n  return {\n    id: generateId(),\n    title: filmTitle,\n    poster: filmPoster,\n    rating: `${getRandomInteger(RATING_MIN, RATING_MAX)}.${getRandomInteger(RATING_MIN, RATING_MAX)}`,\n    shortDescription: getRandomDescription(text),\n    genre: getRandomArray(GENRES),\n    runtime: filmDate.getMinutes(),\n    commentsCount: commentsArray.length,\n    comments: commentsArray,\n    originalTitle: filmTitle,\n    director: getRandomName(),\n    writers: getRandomElements(),\n    actors: getRandomElements(),\n    releaseFullDate: filmDate,\n    country: getRandomElem(COUNTRIES),\n    fullDescription: description,\n    ageRestriction: `${getRandomInteger(AGE_MIN, AGE_MAX)}+`,\n    isWatched: getBoolean(),\n    isWatchingList: getBoolean(),\n    isFavorite: getBoolean()\n  };\n};\n","import Observer from \"../utils/observer.js\";\n\nexport default class FilmsModel extends Observer {\n  constructor() {\n    super();\n    this._films = [];\n  }\n\n  setFilms(films) {\n    this._films = films.slice();\n  }\n\n  getFilms() {\n    return this._films;\n  }\n\n  updateFilm(updateType, update) {\n    const index = this._films.findIndex((film) => film.id === update.id);\n\n    if (index === -1) {\n      throw new Error(`Can't update nonexistent film`);\n    }\n\n    this._films = [\n      ...this._films.slice(0, index),\n      update,\n      ...this._films.slice(index + 1)\n    ];\n\n    this._notify(updateType, update);\n  }\n\n  // addComment(updateType, update) {\n  //   this._tasks = [\n  //     update,\n  //     ...this._tasks\n  //   ];\n\n  //   this._notify(updateType, update);\n  // }\n\n  // deleteComment(updateType, update) {\n  //   const index = this._tasks.findIndex((task) => task.id === update.id);\n\n  //   if (index === -1) {\n  //     throw new Error(`Can't delete unexisting task`);\n  //   }\n\n  //   this._tasks = [\n  //     ...this._tasks.slice(0, index),\n  //     ...this._tasks.slice(index + 1)\n  //   ];\n\n  //   this._notify(updateType);\n  // }\n}\n","import Observer from \"../utils/observer.js\";\nimport {FilterType} from \"../utils/const.js\";\n\nexport default class FilterModel extends Observer {\n  constructor() {\n    super();\n    this._activeFilter = FilterType.ALL;\n  }\n\n  setFilter(updateType, filter) {\n    this._activeFilter = filter;\n    this._notify(updateType, filter);\n  }\n\n  getFilter() {\n    return this._activeFilter;\n  }\n}\n","import FilmCard from \"../view/film-card.js\";\nimport FilmDetailsPopup from \"../view/film-details-popup.js\";\nimport {render, RenderPosition, remove, replace} from \"../utils/render.js\";\nimport {UserAction, UpdateType} from \"../utils/const.js\";\n\nexport default class FilmCardPresenter {\n  constructor(movieListContainer, changeData) {\n    this._movieListContainer = movieListContainer;\n    this._changeData = changeData;\n\n    this._filmComponent = null;\n    this._filmDetailsComponent = null;\n\n    this._handleOpenClick = this._handleOpenClick.bind(this);\n    this._handleWatchlistClick = this._handleWatchlistClick.bind(this);\n    this._handleWatchedClick = this._handleWatchedClick.bind(this);\n    this._handleFavoriteClick = this._handleFavoriteClick.bind(this);\n    this._handleCloseClick = this._handleCloseClick.bind(this);\n    this._escKeyDownHandler = this._escKeyDownHandler.bind(this);\n    this._handleDeleteComment = this._handleDeleteComment.bind(this);\n    this._handleAddComment = this._handleAddComment.bind(this);\n  }\n\n  init(film) {\n    this._film = film;\n\n    const prevFilmComponent = this._filmComponent;\n    const prevFilmDetailsComponent = this._filmDetailsComponent;\n\n    this._filmComponent = new FilmCard(film);\n    this._filmDetailsComponent = new FilmDetailsPopup(film);\n    this._popupContainer = document.querySelector(`main`);\n\n    this._filmComponent.setOpenClickHandler(this._handleOpenClick);\n    this._filmComponent.setWatchlistClickHandler(this._handleWatchlistClick);\n    this._filmComponent.setWatchedClickHandler(this._handleWatchedClick);\n    this._filmComponent.setFavoriteClickHandler(this._handleFavoriteClick);\n    this._filmDetailsComponent.setWatchlistPopupClickHandler(this._handleWatchlistPopupClick);\n    this._filmDetailsComponent.setWatchedPopupClickHandler(this._handleWatchedPopupClick);\n    this._filmDetailsComponent.setFavoritePopupClickHandler(this._handleFavoritePopupClick);\n    this._filmDetailsComponent.setClosePopupHandler(this._handleCloseClick);\n    // this._filmDetailsComponent.setDeleteCommentHandler(this._handleDeleteComment);\n    // this._filmDetailsComponent.setAddCommentHandler(this._handleAddComment);\n\n    if (prevFilmComponent === null || prevFilmDetailsComponent === null) {\n      render(this._movieListContainer, this._filmComponent, RenderPosition.BEFOREEND);\n      return;\n    }\n\n    if (this._movieListContainer.getElement().contains(prevFilmComponent.getElement())) {\n      replace(this._filmComponent, prevFilmComponent);\n    }\n\n    if (this._popupContainer.contains(prevFilmDetailsComponent.getElement())) {\n      replace(this._filmDetailsComponent, prevFilmDetailsComponent);\n    }\n\n    remove(prevFilmComponent);\n    remove(prevFilmDetailsComponent);\n  }\n\n  destroy() {\n    remove(this._filmComponent);\n    remove(this._filmDetailsComponent);\n  }\n\n  _escKeyDownHandler(evt) {\n    if (evt.key === `Escape` || evt.key === `Esc`) {\n      evt.preventDefault();\n\n      remove(this._filmDetailsComponent);\n    }\n  }\n\n  _handleOpenClick() {\n    const prevPopup = document.querySelector(`.film-details`);\n    if (prevPopup !== null) {\n      prevPopup.remove();\n    }\n\n    render(this._popupContainer, this._filmDetailsComponent, RenderPosition.BEFOREEND);\n    document.addEventListener(`keydown`, this._escKeyDownHandler);\n  }\n\n  _handleCloseClick(update) {\n    // remove(this._filmDetailsComponent);\n    // document.removeEventListener(`keydown`, this._escKeyDownHandler);\n\n    // const isMinorUpdate =\n    //   this._filmComponent.isFavorite !== update.isFavorite ||\n    //   this._filmComponent.isWatched !== update.isWatched ||\n    //   this._filmComponent.isWatchingList !== update.isWatchingList;\n\n    this._changeData(\n        UserAction.UPDATE_FILM,\n        UpdateType.MINOR,\n        // isMinorUpdate ? UpdateType.MINOR : UpdateType.PATCH,\n        update\n    );\n  }\n\n  _handleWatchlistClick() {\n    this._changeData(\n        UserAction.UPDATE_FILM,\n        UpdateType.MINOR,\n        Object.assign(\n            {},\n            this._film,\n            {\n              isWatchingList: !this._film.isWatchingList\n            }\n        )\n    );\n  }\n\n  _handleWatchlistPopupClick() {\n    // Или это здесь презентер должен перерисовать попап на основании полученного update?\n    return;\n  }\n\n  _handleWatchedClick() {\n    this._changeData(\n        UserAction.UPDATE_FILM,\n        UpdateType.MINOR,\n        Object.assign(\n            {},\n            this._film,\n            {\n              isWatched: !this._film.isWatched\n            }\n        )\n    );\n  }\n\n  _handleWatchedPopupClick() {\n    return;\n  }\n\n  _handleFavoriteClick() {\n    this._changeData(\n        UserAction.UPDATE_FILM,\n        UpdateType.MINOR,\n        Object.assign(\n            {},\n            this._film,\n            {\n              isFavorite: !this._film.isFavorite\n            }\n        )\n    );\n  }\n\n  _handleFavoritePopupClick() {\n    return;\n  }\n\n  _handleDeleteComment() {\n    return;\n  }\n\n  _handleAddComment() {\n    return;\n  }\n}\n","import MainSiteMenu from \"../view/main-site-menu.js\";\nimport {render, RenderPosition, replace, remove} from \"../utils/render.js\";\nimport {filter} from \"../utils/filter.js\";\nimport {FilterType, UpdateType} from \"../utils/const.js\";\n\nexport default class Filter {\n  constructor(filterContainer, filmsModel, filterModel) {\n    this._filterContainer = filterContainer;\n    this._filterModel = filterModel;\n    this._filmsModel = filmsModel;\n    this._currentFilter = null;\n\n    this._filterComponent = null;\n\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n    this._handleFilterTypeChange = this._handleFilterTypeChange.bind(this);\n\n    this._filmsModel.addObserver(this._handleModelEvent);\n    this._filterModel.addObserver(this._handleModelEvent);\n  }\n\n  init() {\n    this._currentFilter = this._filterModel.getFilter();\n\n    const filters = this._getFilters();\n    const prevFilterComponent = this._filterComponent;\n\n    this._filterComponent = new MainSiteMenu(filters, this._currentFilter);\n    this._filterComponent.setFilterTypeChangeHandler(this._handleFilterTypeChange);\n\n    if (prevFilterComponent === null) {\n      render(this._filterContainer, this._filterComponent, RenderPosition.BEFOREEND);\n      return;\n    }\n\n    replace(this._filterComponent, prevFilterComponent);\n    remove(prevFilterComponent);\n  }\n\n  _handleModelEvent() {\n    this.init();\n  }\n\n  _handleFilterTypeChange(filterType) {\n    if (this._currentFilter === filterType) {\n      return;\n    }\n\n    this._filterModel.setFilter(UpdateType.MAJOR, filterType);\n  }\n\n  _getFilters() {\n    const films = this._filmsModel.getFilms();\n\n    return [\n      {\n        type: FilterType.ALL,\n        name: `All movies`,\n        count: filter[FilterType.ALL](films).length\n      },\n      {\n        type: FilterType.WATCHLIST,\n        name: `Watchlist`,\n        count: filter[FilterType.WATCHLIST](films).length\n      },\n      {\n        type: FilterType.HISTORY,\n        name: `History`,\n        count: filter[FilterType.HISTORY](films).length\n      },\n      {\n        type: FilterType.FAVORITES,\n        name: `Favorites`,\n        count: filter[FilterType.FAVORITES](films).length\n      }\n    ];\n  }\n}\n","import MainSortingFilter from \"../view/main-sorting-filter.js\";\nimport MainFilmsSection from \"../view/main-films-section.js\";\nimport FilmsList from \"../view/films-list.js\";\nimport FilmsListContainer from \"../view/films-list-container\";\nimport FilmCardPresenter from \"./film-card.js\";\nimport ShowMoreButton from \"../view/show-more-button.js\";\nimport NoFilms from \"../view/no-films.js\";\nimport {SortType, UpdateType, UserAction} from \"../utils/const.js\";\nimport {sortFilmDate, sortFilmRating} from \"../utils/film.js\";\nimport {filter} from \"../utils/filter.js\";\n// import FilmsListExtra from \"../view/films-list-extra.js\";\n\nimport {render, RenderPosition, remove} from \"../utils/render.js\";\nimport {FILM_COUNT_PER_STEP /* EXTRAS_NUMBER, EXTRAS_NAMES */} from \"../utils/const.js\";\n\nexport default class MovieList {\n  constructor(movieListContainer, filmsModel, filterModel) {\n    this._filmsModel = filmsModel;\n    this._filterModel = filterModel;\n    this._movieListContainer = movieListContainer;\n    this._renderedFilmCount = FILM_COUNT_PER_STEP;\n    this._currentSortType = SortType.DEFAULT;\n    this._filmCardPresenter = {};\n    this._filmCardPresenterExtra = {};\n\n    this._mainFilmsSectionComponent = new MainFilmsSection();\n    this._filmsListComponent = new FilmsList();\n    this._filmsListContainerComponent = new FilmsListContainer();\n    this._noFilmsComponent = new NoFilms();\n\n    this._handleShowMoreButtonClick = this._handleShowMoreButtonClick.bind(this);\n    this._handleSortTypeChange = this._handleSortTypeChange.bind(this);\n    this._handleViewAction = this._handleViewAction.bind(this);\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n\n    this._filmsModel.addObserver(this._handleModelEvent);\n    this._filterModel.addObserver(this._handleModelEvent);\n  }\n\n  init() {\n    render(this._movieListContainer, this._mainFilmsSectionComponent, RenderPosition.BEFOREEND);\n    render(this._mainFilmsSectionComponent, this._filmsListComponent, RenderPosition.BEFOREEND);\n    render(this._filmsListComponent, this._filmsListContainerComponent, RenderPosition.BEFOREEND);\n\n    this._renderFilmsBoard();\n    // this._renderExtras();\n  }\n\n  _getFilms() {\n    const filterType = this._filterModel.getFilter();\n    const films = this._filmsModel.getFilms();\n    const filteredFilms = filter[filterType](films);\n\n    switch (this._currentSortType) {\n      case SortType.DATE:\n        return filteredFilms.sort(sortFilmDate);\n      case SortType.RATING:\n        return filteredFilms.sort(sortFilmRating);\n    }\n\n    return filteredFilms;\n  }\n\n  _handleViewAction(actionType, updateType, update) {\n    switch (actionType) {\n      case UserAction.UPDATE_FILM:\n        this._filmsModel.updateFilm(updateType, update);\n        break;\n      case UserAction.ADD_COMMENT:\n        this._commentsModel.addComment(updateType, update);\n        break;\n      case UserAction.DELETE_COMMENT:\n        this._commentsModel.deleteComment(updateType, update);\n        break;\n    }\n  }\n\n  _handleModelEvent(updateType, data) {\n    switch (updateType) {\n      case UpdateType.PATCH:\n        this._filmCardPresenter[data.id].init(data);\n        break;\n      case UpdateType.MINOR:\n        this._clearFilmsBoard();\n        this._renderFilmsBoard();\n        break;\n      case UpdateType.MAJOR:\n        this._clearFilmsBoard({resetRenderedFilmCount: true, resetSortType: true});\n        this._renderFilmsBoard();\n        break;\n    }\n  }\n\n  _renderSort() {\n    if (this._mainSortingFilterComponent !== null) {\n      this._mainSortingFilterComponent = null;\n    }\n\n    this._mainSortingFilterComponent = new MainSortingFilter(this._currentSortType);\n    this._mainSortingFilterComponent.setSortTypeChangeHandler(this._handleSortTypeChange);\n    render(this._filmsListComponent, this._mainSortingFilterComponent, RenderPosition.AFTERBEGIN);\n  }\n\n  _renderFilm(film) {\n    const filmCardPresenter = new FilmCardPresenter(this._filmsListContainerComponent, this._handleViewAction);\n    filmCardPresenter.init(film);\n    this._filmCardPresenter[film.id] = filmCardPresenter;\n  }\n\n  _renderFilms(films) {\n    films.forEach((film) => this._renderFilm(film));\n  }\n\n  _renderNoFilms() {\n    render(this._filmsListComponent, this._noFilmsComponent, RenderPosition.BEFOREEND);\n  }\n\n  _handleShowMoreButtonClick() {\n    const filmCount = this._getFilms().length;\n\n    const newRenderedFilmCount = Math.min(filmCount, this._renderedFilmCount + FILM_COUNT_PER_STEP);\n    const films = this._getFilms().slice(this._renderedFilmCount, newRenderedFilmCount);\n\n    this._renderFilms(films);\n    this._renderedFilmCount = newRenderedFilmCount;\n\n    if (this._renderedFilmCount >= filmCount) {\n      remove(this._showMoreButtonComponent);\n    }\n  }\n\n  _renderShowMoreButton() {\n    if (this._showMoreButtonComponent !== null) {\n      this._showMoreButtonComponent = null;\n    }\n\n    this._showMoreButtonComponent = new ShowMoreButton();\n\n    render(this._filmsListComponent, this._showMoreButtonComponent, RenderPosition.BEFOREEND);\n    this._showMoreButtonComponent.setClickHandler(this._handleShowMoreButtonClick);\n  }\n\n  _clearFilmsBoard({resetRenderedFilmCount = false, resetSortType = false} = {}) {\n    const filmCount = this._getFilms().length;\n\n    Object\n      .values(this._filmCardPresenter)\n      .forEach((presenter) => presenter.destroy());\n    this._filmCardPresenter = {};\n\n    remove(this._mainSortingFilterComponent);\n    remove(this._noFilmsComponent);\n    remove(this._showMoreButtonComponent);\n\n    if (resetRenderedFilmCount) {\n      this._renderedFilmCount = FILM_COUNT_PER_STEP;\n    } else {\n      // На случай, если перерисовка доски вызвана\n      // уменьшением количества задач (например, удаление или перенос в архив)\n      // нужно скорректировать число показанных задач\n      this._renderedFilmCount = Math.min(filmCount, this._renderedFilmCount);\n    }\n\n    if (resetSortType) {\n      this._currentSortType = SortType.DEFAULT;\n    }\n  }\n\n  _renderFilmsBoard() {\n    const films = this._getFilms();\n    const filmCount = films.length;\n\n    if (filmCount === 0) {\n      this._renderNoFilms();\n      return;\n    }\n\n    this._renderSort();\n    this._renderFilms(films.slice(0, Math.min(filmCount, this._renderedFilmCount)));\n\n    if (filmCount > this._renderedFilmCount) {\n      this._renderShowMoreButton();\n    }\n  }\n\n  _handleSortTypeChange(sortType) {\n    if (this._currentSortType === sortType) {\n      return;\n    }\n\n    this._currentSortType = sortType;\n    this._clearFilmsBoard({resetRenderedFilmCount: true});\n    this._renderFilmsBoard();\n  }\n\n  // _renderExtras() {\n  //   if (this._films.length > 0) {\n  //     const extraRatedList = new FilmsListExtra(EXTRAS_NAMES[0]);\n  //     render(this._mainFilmsSectionComponent, extraRatedList, RenderPosition.BEFOREEND);\n  //     const extraRatedContainer = new FilmsListContainer();\n  //     render(extraRatedList, extraRatedContainer, RenderPosition.BEFOREEND);\n\n  //     const ratedList = this._films.slice().sort(sortFilmRating);\n  //     const mostRated = ratedList.slice(0, EXTRAS_NUMBER);\n  //     mostRated.forEach((film) => {\n  //       const filmCardPresenter = new FilmCardPresenter(extraRatedContainer, this._handleFilmChange);\n  //       filmCardPresenter.init(film);\n  //       this._filmCardPresenterExtra[film.id] = filmCardPresenter;\n  //     });\n\n\n  //     const mostWatchedList = this._films.slice().filter((film) => film.isWatched);\n  //     if (mostWatchedList.length > 0) {\n  //       const extraWatchedList = new FilmsListExtra(EXTRAS_NAMES[1]);\n  //       render(this._mainFilmsSectionComponent, extraWatchedList, RenderPosition.BEFOREEND);\n  //       const extraWatchedContainer = new FilmsListContainer();\n  //       render(extraWatchedList, extraWatchedContainer, RenderPosition.BEFOREEND);\n\n  //       const mostWatched = mostWatchedList.slice(0, EXTRAS_NUMBER);\n  //       mostWatched.forEach((film) => {\n  //         const filmCardPresenter = new FilmCardPresenter(extraWatchedContainer, this._handleFilmChange);\n  //         filmCardPresenter.init(film);\n  //         this._filmCardPresenterExtra[film.id] = filmCardPresenter;\n  //       });\n  //     }\n  //   }\n  // }\n}\n\n","export const CARDS_NUMBER = 8;\nexport const EXTRAS_NUMBER = 2;\nexport const EXTRAS_NAMES = [`Top rated`, `Most watched`];\nexport const FILM_COUNT_PER_STEP = 5;\nexport const MONTHS = [`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`, `October`, `November`, `December`];\nexport const ELEMENTS_MIN = 2;\nexport const ELEMENTS_MAX = 4;\nexport const EMOJIS = [`smile`, `sleeping`, `puke`, `angry`];\nexport const FILMS_START_YEAR = 1950;\nexport const FILMS_END_YEAR = 2020;\nexport const COMMENTS_START_YEAR = 2003;\nexport const COMMENTS_END_YEAR = 2020;\nexport const START_MONTH = 0;\nexport const END_MONTH = 11;\nexport const START_DATE = 1;\nexport const END_DATE = 28;\nexport const COMMENTS_START_HOUR = 0;\nexport const COMMENTS_END_HOUR = 23;\nexport const START_MINUTES = 10;\nexport const END_MINUTES = 259;\nexport const COMMENTS_MAX = 5;\nexport const RATING_MIN = 0;\nexport const RATING_MAX = 9;\nexport const AGE_MIN = 0;\nexport const AGE_MAX = 18;\n\nexport const text = `The Woman in Black ruined Christmas. You wake up next morning, Christmas Day, you’re still scared. Few horror films have acquired the cult reputation of Herbert Wise’s TV production of The Woman in Black. Adapted by visionary British sci-fi screenwriter Nigel Kneale from Susan Hill’s 1983 novella, it stars a 31-year-old Adrian Rawlins as Edwardian solicitor Arthur Kidd, sent to settle the estate of an eccentric widow, Mrs Drablow, on the north-east coast of England. There, in a remote house at the end of a shingle causeway, he is tormented by terrifying noises and cries – and appearances from a tall woman dressed in black (Pauline Moran), who comes to exert a malevolent hold over his life. The film was a hit with critics and audience alike, yet while Hill’s book went on to sell millions and become a set GCSE text, and Stephen Mallatratt’s stage adaptation began a West End run in 1989 that was halted by Covid-19, Wise’s film slid into relative obscurity.`;\n\n\nexport const TITLES = [\n  `Playful Wave`,\n  `The Silent Legend`,\n  `School of Dragon`,\n  `The Eye's Scent`,\n  `The Children of the Shard`,\n  `Game in the Butterfly`\n];\n\nexport const POSTERS = [\n  `made-for-each-other.png`,\n  `popeye-meets-sinbad.png`,\n  `sagebrush-trail.jpg`,\n  `santa-claus-conquers-the-martians.jpg`,\n  `the-dance-of-life.jpg`,\n  `the-great-flamarion.jpg`,\n  `the-man-with-the-golden-arm.jpg`\n];\n\nexport const GENRES = [\n  `Adventure`,\n  `Comedy`,\n  `Crime`,\n  `Drama`,\n  `Fantasy`,\n  `Historical`,\n  `Horror`,\n  `Romance`,\n  `Thriller`\n];\n\nexport const FIRST_NAMES = [\n  `Jean`,\n  `Julia`,\n  `Meridith`,\n  `Leon`,\n  `Victor`,\n  `Nickolas`,\n  `Helga`,\n  `Maria`\n];\n\nexport const LAST_NAMES = [\n  `Garsia`,\n  `Sveborg`,\n  `Tuussinnen`,\n  `Warts`,\n  `Smirnoff`,\n  `Grishko`,\n  `Luongo`,\n  `ibn Hottab`\n];\n\nexport const COUNTRIES = [\n  `USA`,\n  `Germany`,\n  `Canada`,\n  `Italy`,\n  `Russia`,\n  `South Korea`\n];\n\nexport const SortType = {\n  DEFAULT: `default`,\n  DATE: `date`,\n  RATING: `rating`\n};\n\nexport const UserAction = {\n  UPDATE_FILM: `UPDATE_FILM`,\n  ADD_COMMENT: `ADD_COMMENT`,\n  DELETE_COMMENT: `DELETE_COMMENT`\n};\n\nexport const UpdateType = {\n  PATCH: `PATCH`,\n  MINOR: `MINOR`,\n  MAJOR: `MAJOR`\n};\n\nexport const FilterType = {\n  ALL: `All movies`,\n  WATCHLIST: `Watchlist`,\n  HISTORY: `History`,\n  FAVORITES: `Favorites`\n};\n","export const sortFilmDate = (filmA, filmB) => {\n  return (filmB.releaseFullDate - filmA.releaseFullDate);\n};\n\n\nexport const sortFilmRating = (filmA, filmB) => {\n  return (Number(filmB.rating) - Number(filmA.rating));\n};\n","import {FilterType} from \"./const.js\";\n\nexport const filter = {\n  [FilterType.ALL]: (films) => films,\n  [FilterType.WATCHLIST]: (films) => films.filter((film) => film.isWatchingList),\n  [FilterType.HISTORY]: (films) => films.filter((film) => film.isWatched),\n  [FilterType.FAVORITES]: (films) => films.filter((film) => film.isFavorite)\n};\n","export default class Observer {\n  constructor() {\n    this._observers = [];\n  }\n\n  addObserver(observer) {\n    this._observers.push(observer);\n  }\n\n  removeObserver(observer) {\n    this._observers = this._observers.filter((existedObserver) => existedObserver !== observer);\n  }\n\n  _notify(event, payload) {\n    this._observers.forEach((observer) => observer(event, payload));\n  }\n}\n","import Abstract from \"../view/abstract.js\";\n\nexport const RenderPosition = {\n  AFTERBEGIN: `afterbegin`,\n  BEFOREEND: `beforeend`\n};\n\nexport const render = (container, child, place) => {\n  if (container instanceof Abstract) {\n    container = container.getElement();\n  }\n\n  if (child instanceof Abstract) {\n    child = child.getElement();\n  }\n\n  switch (place) {\n    case RenderPosition.AFTERBEGIN:\n      container.prepend(child);\n      break;\n    case RenderPosition.BEFOREEND:\n      container.append(child);\n      break;\n  }\n};\n\nexport const renderTemplate = (container, template, place) => {\n  if (container instanceof Abstract) {\n    container = container.getElement();\n  }\n\n  container.insertAdjacentHTML(place, template);\n};\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n\n  return newElement.firstChild;\n};\n\nexport const remove = (component) => {\n  if (component === null) {\n    return;\n  }\n\n  if (!(component instanceof Abstract)) {\n    throw new Error(`Can remove only components`);\n  }\n\n  component.getElement().remove();\n  component.removeElement();\n};\n\nexport const replace = (newChild, oldChild) => {\n  if (oldChild instanceof Abstract) {\n    oldChild = oldChild.getElement();\n  }\n\n  if (newChild instanceof Abstract) {\n    newChild = newChild.getElement();\n  }\n\n  const parent = oldChild.parentElement;\n\n  if (parent === null || oldChild === null || newChild === null) {\n    throw new Error(`Can't replace unexisting elements`);\n  }\n\n  parent.replaceChild(newChild, oldChild);\n};\n","import {FIRST_NAMES, LAST_NAMES} from \"./const.js\";\n\nexport const getRandomInteger = (a = 0, b = 1) => {\n  const lower = Math.ceil(Math.min(a, b));\n  const upper = Math.floor(Math.max(a, b));\n  return Math.floor(lower + Math.random() * (upper - lower + 1));\n};\n\nexport const getRandomIndex = (arr) => {\n  return getRandomInteger(0, arr.length - 1);\n};\n\nexport const getRandomElem = (elements) => {\n  return elements[getRandomIndex(elements)];\n};\n\nconst getShuffledArray = (arr) => {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = arr[j];\n    arr[j] = arr[i];\n    arr[i] = temp;\n  }\n\n  return arr;\n};\n\nexport const getRandomArray = (arr) => {\n  const clonedArr = arr.slice();\n\n  const shuffledArr = getShuffledArray(clonedArr);\n  const result = shuffledArr.slice(getRandomInteger(1, shuffledArr.length - 1));\n\n  return result;\n};\n\nexport const getBoolean = () => {\n  return Boolean(getRandomInteger(0, 1));\n};\n\nexport const getRandomName = () => {\n  return `${getRandomElem(FIRST_NAMES)} ${getRandomElem(LAST_NAMES)}`;\n};\n\nexport const getRandomDescription = (description) => {\n  const sentences = description.split(`. `);\n  const randomSentences = getRandomArray(sentences);\n  const randomDescription = `${randomSentences.join(`. `)}.`;\n\n  return randomDescription;\n};\n","import {createElement} from \"../utils/render.js\";\n\nexport default class Abstract {\n  constructor() {\n    if (new.target === Abstract) {\n      throw new Error(`Abstract class cannot be replicated, use inherited classes instead.`);\n    }\n\n    this._element = null;\n    this._callback = {};\n  }\n\n  getTemplate() {\n    throw new Error(`Abstract method not implemented: getTemplate`);\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = createElement(this.getTemplate());\n    }\n\n    return this._element;\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n}\n","import Abstract from \"./abstract.js\";\nimport dayjs from \"dayjs\";\n\nconst createFilmCard = (film) => {\n  const {title, poster, rating, shortDescription, genre, runtime, commentsCount, releaseFullDate, isWatched, isWatchingList, isFavorite} = film;\n\n  const mainGenre = genre[0];\n\n  const filmRuntime = dayjs(runtime).format(`H[h] MM[m]`);\n\n  const getShortDescription = () => {\n    if (shortDescription.length < 140) {\n      return shortDescription;\n    } else {\n      const shortenedDescription = `${shortDescription.substring(0, 140)}...`;\n      return shortenedDescription;\n    }\n  };\n\n  const getComments = () => commentsCount > 1 ? `${commentsCount} comments` : `${commentsCount} comment`;\n\n  const watchingListClassName = isWatchingList ? `film-card__controls-item--add-to-watchlist film-card__controls-item--active` : `film-card__controls-item--add-to-watchlist`;\n  const favoriteClassName = isFavorite ? `film-card__controls-item--favorite film-card__controls-item--active` : `film-card__controls-item--favorite`;\n  const watchedClassName = isWatched ? `film-card__controls-item--mark-as-watched  film-card__controls-item--active` : `film-card__controls-item--mark-as-watched`; // Проверить, правильные ли классы и логика показа\n\n  return (\n    `<article class=\"film-card\">\n      <h3 class=\"film-card__title\">${title}</h3>\n      <p class=\"film-card__rating\">${rating}</p>\n      <p class=\"film-card__info\">\n        <span class=\"film-card__year\">${releaseFullDate.getFullYear()}</span>\n        <span class=\"film-card__duration\">${filmRuntime}</span>\n        <span class=\"film-card__genre\">${mainGenre}</span>\n      </p>\n      <img src=\"${poster}\" alt=\"${title}\" class=\"film-card__poster\">\n      <p class=\"film-card__description\">${getShortDescription()}</p>\n      <a class=\"film-card__comments\">${getComments()}</a>\n      <form class=\"film-card__controls\">\n        <button class=\"film-card__controls-item button ${watchingListClassName}\">Add to watchlist</button>\n        <button class=\"film-card__controls-item button ${watchedClassName}\">Mark as watched</button>\n        <button class=\"film-card__controls-item button ${favoriteClassName}\">Mark as favorite</button>\n      </form>\n    </article>`\n  );\n};\n\nexport default class FilmCard extends Abstract {\n  constructor(film) {\n    super();\n    this._film = film;\n    this._openClickHandler = this._openClickHandler.bind(this);\n    this._favoriteClickHandler = this._favoriteClickHandler.bind(this);\n    this._watchlistClickHandler = this._watchlistClickHandler.bind(this);\n    this._watchedClickHandler = this._watchedClickHandler.bind(this);\n  }\n\n  getTemplate() {\n    return createFilmCard(this._film);\n  }\n\n  _favoriteClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.favoriteClick();\n  }\n\n  setFavoriteClickHandler(callback) {\n    this._callback.favoriteClick = callback;\n    this.getElement().querySelector(`.film-card__controls-item--favorite`).addEventListener(`click`, this._favoriteClickHandler);\n  }\n\n  _watchlistClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchlistClick();\n  }\n\n  setWatchlistClickHandler(callback) {\n    this._callback.watchlistClick = callback;\n    this.getElement().querySelector(`.film-card__controls-item--add-to-watchlist`).addEventListener(`click`, this._watchlistClickHandler);\n  }\n\n  _watchedClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchedClick();\n  }\n\n  setWatchedClickHandler(callback) {\n    this._callback.watchedClick = callback;\n    this.getElement().querySelector(`.film-card__controls-item--mark-as-watched`).addEventListener(`click`, this._watchedClickHandler);\n  }\n\n  _openClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.openClick();\n  }\n\n  setOpenClickHandler(callback) {\n    this._callback.openClick = callback;\n    this.getElement().querySelectorAll(`.film-card__title, .film-card__poster, .film-card__comments`).forEach((elem) => elem.addEventListener(`click`, this._openClickHandler));\n  }\n}\n","/* eslint-disable quotes */\nimport Smart from \"./smart.js\";\nimport dayjs from \"dayjs\";\n\nconst createFilmDetailsPopup = (data) => {\n  const {title, rating, genre, runtime, commentsCount, comments, poster, originalTitle, director, writers, actors, releaseFullDate, country, fullDescription, ageRestriction, isWatched, isWatchingList, isFavorite} = data;\n\n  const releaseDate = dayjs(releaseFullDate).format('DD MMMM YYYY');\n\n  const watchingListChecked = isWatchingList ? `checked` : ``;\n  const favoriteChecked = isFavorite ? `checked` : ``;\n  const watchedChecked = isWatched ? `checked` : ``;\n\n  const watchingListLabel = isWatchingList ? `Added to watchlist` : `Add to watchlist`;\n  const watchedLabel = isWatched ? `Already watched` : `Mark as watched`;\n  const favoriteLabel = isFavorite ? `Added to favorites` : `Add to favorites`;\n\n  const filmRuntime = dayjs(runtime).format(`H[h] MM[m]`);\n\n  const createGenresTemplate = () => {\n    return (\n      `<tr class=\"film-details__row\">\n          <td class=\"film-details__term\">Genre</td>\n          <td class=\"film-details__cell\">\n            <span class=\"film-details__genre\">${genre.join(` `)}</span>\n        </tr>`\n    );\n  };\n\n  const createCommentsTemplate = () => {\n    const commentsList = [];\n\n    for (let item of comments) {\n      const commentFullDate = dayjs(item.date).format(`YYYY/MM/DD HH:MM`);\n\n      item =\n          `<li class=\"film-details__comment\">\n          <span class=\"film-details__comment-emoji\">\n            <img src=\"./images/emoji/${item.emoji}.png\" width=\"55\" height=\"55\" alt=\"emoji-${item.emoji}\">\n          </span>\n          <div>\n            <p class=\"film-details__comment-text\">${item.content}</p>\n            <p class=\"film-details__comment-info\">\n              <span class=\"film-details__comment-author\">${item.author}</span>\n              <span class=\"film-details__comment-day\">${commentFullDate}</span>\n              <button class=\"film-details__comment-delete\">Delete</button>\n            </p>\n          </div>\n        </li>`\n      ;\n      commentsList.push(item);\n    }\n\n    return commentsList.join(``);\n  };\n\n  return (\n    `<section class=\"film-details\">\n    <form class=\"film-details__inner\" action=\"\" method=\"get\">\n      <div class=\"form-details__top-container\">\n        <div class=\"film-details__close\">\n          <button class=\"film-details__close-btn\" type=\"button\">close</button>\n        </div>\n        <div class=\"film-details__info-wrap\">\n          <div class=\"film-details__poster\">\n            <img class=\"film-details__poster-img\" src=\"${poster}\" alt=\"${title}\">\n            <p class=\"film-details__age\">${ageRestriction}</p>\n          </div>\n          <div class=\"film-details__info\">\n            <div class=\"film-details__info-head\">\n              <div class=\"film-details__title-wrap\">\n                <h3 class=\"film-details__title\">${title}</h3>\n                <p class=\"film-details__title-original\">Original: ${originalTitle}</p>\n              </div>\n              <div class=\"film-details__rating\">\n                <p class=\"film-details__total-rating\">${rating}</p>\n              </div>\n            </div>\n            <table class=\"film-details__table\">\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Director</td>\n                <td class=\"film-details__cell\">${director}</td>\n              </tr>\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Writers</td>\n                <td class=\"film-details__cell\">${writers.join(`, `)}</td>\n              </tr>\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Actors</td>\n                <td class=\"film-details__cell\">${actors.join(`, `)}</td>\n              </tr>\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Release Date</td>\n                <td class=\"film-details__cell\">${releaseDate}</td>\n              </tr>\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Runtime</td>\n                <td class=\"film-details__cell\">${filmRuntime}</td>\n              </tr>\n              <tr class=\"film-details__row\">\n                <td class=\"film-details__term\">Country</td>\n                <td class=\"film-details__cell\">${country}</td>\n              </tr>\n                ${createGenresTemplate()}\n            </table>\n            <p class=\"film-details__film-description\">\n              ${fullDescription}\n            </p>\n          </div>\n        </div>\n        <section class=\"film-details__controls\">\n          <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watchlist\" name=\"watchlist\" ${watchingListChecked}>\n          <label for=\"watchlist\" class=\"film-details__control-label film-details__control-label--watchlist\">${watchingListLabel}</label>\n\n          <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watched\" name=\"watched\" ${watchedChecked}>\n          <label for=\"watched\" class=\"film-details__control-label film-details__control-label--watched\">${watchedLabel}</label>\n\n          <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"favorite\" name=\"favorite\" ${favoriteChecked}>\n          <label for=\"favorite\" class=\"film-details__control-label film-details__control-label--favorite\">${favoriteLabel}</label>\n        </section>\n      </div>\n      <div class=\"form-details__bottom-container\">\n        <section class=\"film-details__comments-wrap\">\n          <h3 class=\"film-details__comments-title\">Comments <span class=\"film-details__comments-count\">${commentsCount}</span></h3>\n          <ul class=\"film-details__comments-list\">\n          ${createCommentsTemplate()}\n          </ul>\n          <div class=\"film-details__new-comment\">\n            <div for=\"add-emoji\" class=\"film-details__add-emoji-label\"></div>\n            <label class=\"film-details__comment-label\">\n              <textarea class=\"film-details__comment-input\" placeholder=\"Select reaction below and write comment here\" name=\"comment\"></textarea>\n            </label>\n            <div class=\"film-details__emoji-list\">\n              <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-smile\" value=\"smile\">\n              <label class=\"film-details__emoji-label\" for=\"emoji-smile\">\n                <img src=\"./images/emoji/smile.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n              </label>\n              <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-sleeping\" value=\"sleeping\">\n              <label class=\"film-details__emoji-label\" for=\"emoji-sleeping\">\n                <img src=\"./images/emoji/sleeping.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n              </label>\n              <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-puke\" value=\"puke\">\n              <label class=\"film-details__emoji-label\" for=\"emoji-puke\">\n                <img src=\"./images/emoji/puke.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n              </label>\n              <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-angry\" value=\"angry\">\n              <label class=\"film-details__emoji-label\" for=\"emoji-angry\">\n                <img src=\"./images/emoji/angry.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n              </label>\n            </div>\n          </div>\n        </section>\n      </div>\n    </form>\n  </section>`\n  );\n};\n\nexport default class FilmDetailsPopup extends Smart {\n  constructor(film) {\n    super();\n    this._data = FilmDetailsPopup.parseFilmToData(film);\n\n    this._closePopupHandler = this._closePopupHandler.bind(this);\n    this._favoritePopupClickHandler = this._favoritePopupClickHandler.bind(this);\n    this._watchlistPopupClickHandler = this._watchlistPopupClickHandler.bind(this);\n    this._watchedPopupClickHandler = this._watchedPopupClickHandler.bind(this);\n    this._emojiClickHandler = this._emojiClickHandler.bind(this);\n    // this._descriptionInputHandler = this._descriptionInputHandler.bind(this);\n    // this._addCommentHandler = this._addCommentHandler.bind(this);\n    // this._deleteCommentHandler = this._deleteCommentHandler.bind(this);\n\n    this._setInnerHandlers();\n  }\n\n  getTemplate() {\n    return createFilmDetailsPopup(this._data);\n  }\n\n  restoreHandlers() {\n    this._setInnerHandlers();\n    // this.setAddCommentHandler(this._callback.addComment);\n  }\n\n  _setInnerHandlers() {\n    // this.getElement()\n    //   .querySelector(`.film-details__control-label--favorite`)\n    //   .addEventListener(`click`, this._favoritePopupClickHandler);\n    // this.getElement()\n    //   .querySelector(`.film-details__control-label--watched`)\n    //   .addEventListener(`click`, this._watchedPopupClickHandler);\n    // this.getElement()\n    //   .querySelector(`.film-details__control-label--watchlist`)\n    //   .addEventListener(`click`, this._watchlistPopupClickHandler);\n    this.getElement()\n      .querySelectorAll(`.film-details__emoji-label img`)\n      .forEach((elem) => elem.addEventListener(`click`, this._emojiClickHandler));\n    this.getElement()\n      .querySelector(`.film-details__comment-input`)\n      .addEventListener(`input`, this._descriptionInputHandler);\n    this.getElement()\n      .querySelector(`.film-details__close-btn`)\n      .addEventListener(`click`, this._closePopupHandler);\n\n    const deleteButtons = this.getElement().querySelectorAll(`.film-details__comment-delete`);\n    if (deleteButtons) {\n      for (let button of deleteButtons) {\n        button.addEventListener(`click`, this._deleteCommentHandler);\n      }\n    }\n  }\n\n  _favoritePopupClickHandler(evt) {\n    evt.preventDefault();\n    this._data.scrollPosition = document.querySelector(`.film-details`).scrollTop;\n    this.updateData({\n      isFavorite: !this.isFavorite\n    }, false);\n\n    this._callback.favoritePopupClick();\n    document.querySelector(`.film-details`).scrollTop = this._data.scrollPosition;\n  }\n\n  setFavoritePopupClickHandler(callback) {\n    this._callback.favoritePopupClick = callback;\n    this.getElement().querySelector(`.film-details__control-label--favorite`).addEventListener(`click`, this._favoritePopupClickHandler);\n  }\n\n  _watchlistPopupClickHandler(evt) {\n    evt.preventDefault();\n    this._data.scrollPosition = document.querySelector(`.film-details`).scrollTop;\n    this.updateData({\n      isWatchingList: !this.isWatchingList\n    }, false);\n\n    this._callback.watchlistPopupClick(this._data);\n    document.querySelector(`.film-details`).scrollTop = this._data.scrollPosition;\n\n  }\n\n  setWatchlistPopupClickHandler(callback) {\n    this._callback.watchlistPopupClick = callback;\n    this.getElement().querySelector(`.film-details__control-label--watchlist`).addEventListener(`click`, this._watchlistPopupClickHandler);\n  }\n\n  _watchedPopupClickHandler(evt) {\n    evt.preventDefault();\n    this._data.scrollPosition = document.querySelector(`.film-details`).scrollTop;\n    this.updateData({\n      isWatched: !this.isWatched\n    }, false);\n\n    this._callback.watchedPopupClick();\n    document.querySelector(`.film-details`).scrollTop = this._data.scrollPosition;\n  }\n\n  setWatchedPopupClickHandler(callback) {\n    this._callback.watchedPopupClick = callback;\n    this.getElement().querySelector(`.film-details__control-label--watched`).addEventListener(`click`, this._watchedPopupClickHandler);\n  }\n\n  _closePopupHandler(evt) {\n    evt.preventDefault();\n    this._callback.closePopup(FilmDetailsPopup.parseDataToFilm(this._data)); // filmDetails обновляется, а модель про это не знает и не обновляет filmsBoard\n  }\n\n  setClosePopupHandler(callback) {\n    this._callback.closePopup = callback;\n    this.getElement().querySelector(`.film-details__close-btn`).addEventListener(`click`, this._closePopupHandler);\n  }\n\n  _emojiClickHandler(evt) {\n    const newEmoji = document.createElement(`img`);\n    newEmoji.src = evt.target.src;\n    newEmoji.style.width = `100%`;\n\n    const newCommentEmoji = document.querySelector(`.film-details__add-emoji-label`);\n    if (newCommentEmoji.firstChild) {\n      newCommentEmoji.removeChild(newCommentEmoji.firstChild);\n    }\n\n    newCommentEmoji.appendChild(newEmoji);\n    this.updateData({\n      newCommentEmojiTemplate: newEmoji\n    }, true);\n  }\n\n  // _descriptionInputHandler(evt) {\n  //   evt.preventDefault();\n  //   this.updateData({\n  //     newCommentDescription: evt.target.value\n  //   }, true);\n  // }\n\n  // _deleteCommentHandler(evt) {\n  //   evt.preventDefault();\n  //   // const parentComment = evt.target.closest(`.film-details__comment`);\n  //   // const commentsList = this.getElement().querySelector(`.film-details__comments-list`);\n  //   // commentsList.removeChild(parentComment);\n  // }\n\n  // setDeleteCommentHandler(callback) {\n  //   this._callback.deleteComment = callback;\n  //   this.getElement().querySelectorAll(`.film-details__comment-delete`).forEach((elem) => elem.addEventListener(`click`, this._deleteCommentHandler));\n  // }\n\n  // _addCommentHandler(evt) {\n  //   evt.preventDefault();\n\n  // }\n\n  // setAddCommentHandler(callback) {\n  //   this._callback.addComment = callback;\n  //   // this.getElement().querySelector(`.film-details__control-label--favorite`).addEventListener(`click`, this._favoriteClickHandler);\n  // }\n\n  // _formSubmitHandler(evt) {\n  //   evt.preventDefault();\n  //   this._callback.formSubmit(FilmDetailsPopup.parseDataToTask(this._data));\n  // }\n  // setFormSubmitHandler(callback) {\n  //   this._callback.formSubmit = callback;\n  //   this.getElement().querySelector(`form`).addEventListener(`submit`, this._formSubmitHandler);\n  // }\n\n  static parseFilmToData(film) {\n    return Object.assign(\n        {},\n        film,\n        {\n          isWatched: film.isWatched,\n          isWatchingList: film.isWatchingList,\n          isFavorite: film.isFavorite,\n          // commentsCount: film.commentsCount,\n          // comments: film.comments,\n          scrollPosition: null,\n          newCommentEmojiTemplate: null,\n          newCommentDescription: null\n        }\n    );\n  }\n\n  static parseDataToFilm(data) {\n    data = Object.assign({}, data);\n\n    delete data.scrollPosition;\n\n    return data;\n  }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createFilmsListContainer = () => {\n  return (\n    `<div class=\"films-list__container\"></div>`\n  );\n};\n\nexport default class FilmsListContainer extends Abstract {\n  getTemplate() {\n    return createFilmsListContainer();\n  }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createFilmsList = () => {\n  return (\n    `<section class=\"films-list\">\n      <h2 class=\"films-list__title visually-hidden\">All movies. Upcoming</h2>\n    </section>`\n  );\n};\n\nexport default class FilmsList extends Abstract {\n  getTemplate() {\n    return createFilmsList();\n  }\n}\n","import {CARDS_NUMBER} from \"../utils/const.js\";\nimport Abstract from \"./abstract.js\";\n\nconst createFooterStats = () => {\n  return (\n    `<section class=\"footer__statistics\">\n      <p>${CARDS_NUMBER} movies inside</p>\n    </section>`\n  );\n};\n\nexport default class FooterStats extends Abstract {\n  getTemplate() {\n    return createFooterStats();\n  }\n}\n\n","import Abstract from \"./abstract.js\";\n\nconst createMainFilmsSection = () => {\n  return (\n    `<section class=\"films\"></section>`\n  );\n};\n\nexport default class MainFilmsSection extends Abstract {\n  getTemplate() {\n    return createMainFilmsSection();\n  }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createFilterTemplate = (filter, currentFilterType) => {\n  const {type, name, count} = filter;\n\n  return (\n    `<a\n      href=\"#${name}\"\n      id=\"${name}\"\n      class=\"main-navigation__item\n      ${type === currentFilterType ? `main-navigation__item--active` : ``}\">\n      ${name}\n      <span class=\"main-navigation__item-count\">${count}</span>\n    </a>`\n  );\n};\n\n\nconst createMainSiteMenu = (filterItems, currentFilterType) => {\n  const filterItemsTemplate = filterItems\n    .map((filter) => createFilterTemplate(filter, currentFilterType))\n    .join(``);\n\n\n  return (\n    `<nav class=\"main-navigation\">\n      <div class=\"main-navigation__items\">\n        ${filterItemsTemplate}\n      </div>\n      <a href=\"#stats\" class=\"main-navigation__additional\">Stats</a>\n  </nav>`\n  );\n};\n\nexport default class MainSiteMenu extends Abstract {\n  constructor(filters, currentFilterType) {\n    super();\n    this._filters = filters;\n    this._currentFilter = currentFilterType;\n\n    this._filterTypeChangeHandler = this._filterTypeChangeHandler.bind(this);\n  }\n\n  getTemplate() {\n    return createMainSiteMenu(this._filters, this._currentFilter);\n  }\n\n  _filterTypeChangeHandler(evt) {\n    evt.preventDefault();\n    this._callback.filterTypeChange(evt.target.id);\n  }\n\n  setFilterTypeChangeHandler(callback) {\n    this._callback.filterTypeChange = callback;\n    this.getElement().addEventListener(`click`, this._filterTypeChangeHandler);\n  }\n}\n","import Abstract from \"./abstract.js\";\nimport {SortType} from \"../utils/const.js\";\n\nconst createMainSortingFilter = (currentSortType) => {\n  return (\n    `<ul class=\"sort\">\n    <li><a href=\"#\" class=\"sort__button ${currentSortType === SortType.DEFAULT ? `sort__button--active` : ``}\" data-sort-type=\"${SortType.DEFAULT}\">Sort by default</a></li>\n    <li><a href=\"#\" class=\"sort__button ${currentSortType === SortType.DATE ? `sort__button--active` : ``}\" data-sort-type=\"${SortType.DATE}\">Sort by date</a></li>\n    <li><a href=\"#\" class=\"sort__button ${currentSortType === SortType.RATING ? `sort__button--active` : ``}\" data-sort-type=\"${SortType.RATING}\">Sort by rating</a></li>\n    </ul>`\n  );\n};\n\nexport default class MainSortingFilter extends Abstract {\n  constructor(currentSortType) {\n    super();\n    this._currentSortType = currentSortType;\n    this._sortTypeChangeHandler = this._sortTypeChangeHandler.bind(this);\n    // this._sortActiveChangeHandler = this._sortActiveChangeHandler.bind(this);\n  }\n\n  getTemplate() {\n    return createMainSortingFilter(this._currentSortType);\n  }\n\n  _sortTypeChangeHandler(evt) {\n    if (evt.target.tagName !== `A`) {\n      return;\n    }\n\n    evt.preventDefault();\n    this._callback.sortTypeChange(evt.target.dataset.sortType);\n  }\n\n  setSortTypeChangeHandler(callback) {\n    this._callback.sortTypeChange = callback;\n    this.getElement().addEventListener(`click`, this._sortTypeChangeHandler);\n  }\n\n  // _sortActiveChangeHandler(evt) {\n  //   if (evt.target.tagName !== `A`) {\n  //     return;\n  //   }\n\n  //   evt.preventDefault();\n  //   this._callback.sortActiveChange(evt);\n  // }\n\n  // setSortActiveChangeHandler(callback) {\n  //   this._callback.sortActiveChange = callback;\n  //   this.getElement().querySelectorAll(`.sort__button`).forEach((elem) => elem.addEventListener(`click`, this._sortActiveChangeHandler));\n  // }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createNoFilmsMessage = () => {\n  return `<h2 class=\"films-list__title\">There are no movies in our database</h2>`;\n};\n\nexport default class NoFilms extends Abstract {\n  getTemplate() {\n    return createNoFilmsMessage();\n  }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createShowMoreButton = () => {\n  return (\n    `<button class=\"films-list__show-more\">Show more</button>`\n  );\n};\n\nexport default class ShowMoreButton extends Abstract {\n  constructor() {\n    super();\n    this._clickHandler = this._clickHandler.bind(this);\n  }\n\n  getTemplate() {\n    return createShowMoreButton();\n  }\n\n  _clickHandler(evt) {\n    evt.preventDefault();\n    this._callback.click();\n  }\n\n  setClickHandler(callback) {\n    this._callback.click = callback;\n    this.getElement().addEventListener(`click`, this._clickHandler);\n  }\n}\n","import Abstract from \"./abstract\";\n\nexport default class Smart extends Abstract {\n  constructor() {\n    super();\n    this._data = {};\n  }\n\n  updateData(update, justDataUpdating) {\n    if (!update) {\n      return;\n    }\n\n    this._data = Object.assign(\n        {},\n        this._data,\n        update\n    );\n\n    if (justDataUpdating) {\n      return;\n    }\n\n    this.updateElement();\n  }\n\n  updateElement() {\n    let prevElement = this.getElement();\n    const parent = prevElement.parentElement;\n    this.removeElement();\n\n    const newElement = this.getElement();\n\n    parent.replaceChild(newElement, prevElement);\n\n    this.restoreHandlers();\n  }\n\n  restoreHandlers() {\n    throw new Error(`Smart method not implemented: resetHandlers`);\n  }\n}\n","import Abstract from \"./abstract.js\";\n\nconst createUserStatus = () => {\n  return (\n    `<section class=\"header__profile profile\">\n      <p class=\"profile__rating\">Movie Buff</p>\n      <img class=\"profile__avatar\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\">\n    </section>`\n  );\n};\n\nexport default class UserStatus extends Abstract {\n  getTemplate() {\n    return createUserStatus();\n  }\n}\n"],"sourceRoot":""}